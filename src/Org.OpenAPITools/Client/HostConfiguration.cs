/*
 * Twitter API v2
 *
 * Twitter API v2 available endpoints
 *
 * The version of the OpenAPI document: 2.128
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections.Generic;
using System.Linq;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.Net.Http;
using Microsoft.Extensions.DependencyInjection;
using Org.OpenAPITools.Api;
using Org.OpenAPITools.Model;

namespace Org.OpenAPITools.Client
{
    /// <summary>
    /// Provides hosting configuration for Org.OpenAPITools
    /// </summary>
    public class HostConfiguration
    {
        private readonly IServiceCollection _services;
        private readonly JsonSerializerOptions _jsonOptions = new JsonSerializerOptions();

        internal bool HttpClientsAdded { get; private set; }

        /// <summary>
        /// Instantiates the class 
        /// </summary>
        /// <param name="services"></param>
        public HostConfiguration(IServiceCollection services)
        {
            _services = services;
            _jsonOptions.Converters.Add(new JsonStringEnumConverter());
            _jsonOptions.Converters.Add(new DateTimeJsonConverter());
            _jsonOptions.Converters.Add(new DateTimeNullableJsonConverter());
            _jsonOptions.Converters.Add(new DateOnlyJsonConverter());
            _jsonOptions.Converters.Add(new DateOnlyNullableJsonConverter());
            _jsonOptions.Converters.Add(new AddOrDeleteRulesRequestJsonConverter());
            _jsonOptions.Converters.Add(new AddOrDeleteRulesResponseJsonConverter());
            _jsonOptions.Converters.Add(new AddRulesRequestJsonConverter());
            _jsonOptions.Converters.Add(new AllowDownloadStatusJsonConverter());
            _jsonOptions.Converters.Add(new AltTextJsonConverter());
            _jsonOptions.Converters.Add(new AnimatedGifJsonConverter());
            _jsonOptions.Converters.Add(new AppRulesCountJsonConverter());
            _jsonOptions.Converters.Add(new BookmarkAddRequestJsonConverter());
            _jsonOptions.Converters.Add(new BookmarkFolderPostsResponseJsonConverter());
            _jsonOptions.Converters.Add(new BookmarkFolderPostsResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new BookmarkFoldersResponseJsonConverter());
            _jsonOptions.Converters.Add(new BookmarkFoldersResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new BookmarkMutationResponseJsonConverter());
            _jsonOptions.Converters.Add(new BookmarkMutationResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new CashtagEntityJsonConverter());
            _jsonOptions.Converters.Add(new CashtagFieldsJsonConverter());
            _jsonOptions.Converters.Add(new ClientAppUsageJsonConverter());
            _jsonOptions.Converters.Add(new ClientDisconnectedProblemJsonConverter());
            _jsonOptions.Converters.Add(new ClientForbiddenProblemJsonConverter());
            _jsonOptions.Converters.Add(new CommunityJsonConverter());
            _jsonOptions.Converters.Add(new ComplianceJobJsonConverter());
            _jsonOptions.Converters.Add(new ComplianceJobStatusJsonConverter());
            _jsonOptions.Converters.Add(new ComplianceJobStatusNullableJsonConverter());
            _jsonOptions.Converters.Add(new ComplianceJobTypeJsonConverter());
            _jsonOptions.Converters.Add(new ComplianceJobTypeNullableJsonConverter());
            _jsonOptions.Converters.Add(new ConflictProblemJsonConverter());
            _jsonOptions.Converters.Add(new ConnectionExceptionProblemJsonConverter());
            _jsonOptions.Converters.Add(new ContextAnnotationJsonConverter());
            _jsonOptions.Converters.Add(new ContextAnnotationDomainFieldsJsonConverter());
            _jsonOptions.Converters.Add(new ContextAnnotationEntityFieldsJsonConverter());
            _jsonOptions.Converters.Add(new CreateAttachmentsMessageRequestJsonConverter());
            _jsonOptions.Converters.Add(new CreateComplianceJobRequestJsonConverter());
            _jsonOptions.Converters.Add(new CreateComplianceJobResponseJsonConverter());
            _jsonOptions.Converters.Add(new CreateDmConversationRequestJsonConverter());
            _jsonOptions.Converters.Add(new CreateDmEventResponseJsonConverter());
            _jsonOptions.Converters.Add(new CreateDmEventResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new CreateMessageRequestJsonConverter());
            _jsonOptions.Converters.Add(new CreateTextMessageRequestJsonConverter());
            _jsonOptions.Converters.Add(new DeleteDmResponseJsonConverter());
            _jsonOptions.Converters.Add(new DeleteDmResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new DeleteRulesRequestJsonConverter());
            _jsonOptions.Converters.Add(new DeleteRulesRequestDeleteJsonConverter());
            _jsonOptions.Converters.Add(new DisallowedResourceProblemJsonConverter());
            _jsonOptions.Converters.Add(new DmEventJsonConverter());
            _jsonOptions.Converters.Add(new DmEventAttachmentsJsonConverter());
            _jsonOptions.Converters.Add(new DmEventReferencedTweetsInnerJsonConverter());
            _jsonOptions.Converters.Add(new DmMediaAttachmentJsonConverter());
            _jsonOptions.Converters.Add(new DuplicateRuleProblemJsonConverter());
            _jsonOptions.Converters.Add(new EngagementJsonConverter());
            _jsonOptions.Converters.Add(new EngagementErrorsInnerJsonConverter());
            _jsonOptions.Converters.Add(new EngagementMeasurementJsonConverter());
            _jsonOptions.Converters.Add(new EngagementMeasurementMetricsTimeSeriesInnerJsonConverter());
            _jsonOptions.Converters.Add(new EngagementMeasurementMetricsTimeSeriesInnerValueJsonConverter());
            _jsonOptions.Converters.Add(new EngagementMeasurementMetricsTimeSeriesInnerValueMetricValuesInnerJsonConverter());
            _jsonOptions.Converters.Add(new EngagementMeasurementMetricsTimeSeriesInnerValueTimestampJsonConverter());
            _jsonOptions.Converters.Add(new EngagementMeasurementMetricsTotalInnerJsonConverter());
            _jsonOptions.Converters.Add(new EntityIndicesInclusiveExclusiveJsonConverter());
            _jsonOptions.Converters.Add(new EntityIndicesInclusiveInclusiveJsonConverter());
            _jsonOptions.Converters.Add(new ErrorJsonConverter());
            _jsonOptions.Converters.Add(new ExpansionsJsonConverter());
            _jsonOptions.Converters.Add(new FieldUnauthorizedProblemJsonConverter());
            _jsonOptions.Converters.Add(new FilteredStreamingTweetResponseJsonConverter());
            _jsonOptions.Converters.Add(new FilteredStreamingTweetResponseMatchingRulesInnerJsonConverter());
            _jsonOptions.Converters.Add(new FoundMediaOriginJsonConverter());
            _jsonOptions.Converters.Add(new FullTextEntitiesJsonConverter());
            _jsonOptions.Converters.Add(new FullTextEntitiesAnnotationsInnerJsonConverter());
            _jsonOptions.Converters.Add(new GenericProblemJsonConverter());
            _jsonOptions.Converters.Add(new GeoJsonConverter());
            _jsonOptions.Converters.Add(new Get2CommunitiesIdResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2CommunitiesSearchResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2CommunitiesSearchResponseMetaJsonConverter());
            _jsonOptions.Converters.Add(new Get2ComplianceJobsIdResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2ComplianceJobsResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2ComplianceJobsResponseMetaJsonConverter());
            _jsonOptions.Converters.Add(new Get2DmConversationsIdDmEventsResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2DmConversationsIdDmEventsResponseMetaJsonConverter());
            _jsonOptions.Converters.Add(new Get2DmConversationsWithParticipantIdDmEventsResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2DmEventsEventIdResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2DmEventsResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2Insights28hrResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2InsightsHistoricalResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2LikesFirehoseStreamResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2LikesSample10StreamResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2ListsIdFollowersResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2ListsIdMembersResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2ListsIdResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2ListsIdTweetsResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2NotesResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2SpacesByCreatorIdsResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2SpacesIdBuyersResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2SpacesIdResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2SpacesIdTweetsResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2SpacesResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2SpacesSearchResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2TrendsByWoeidWoeidResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2TweetsCountsAllResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2TweetsCountsAllResponseMetaJsonConverter());
            _jsonOptions.Converters.Add(new Get2TweetsCountsRecentResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2TweetsFirehoseStreamLangEnResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2TweetsFirehoseStreamLangJaResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2TweetsFirehoseStreamLangKoResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2TweetsFirehoseStreamLangPtResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2TweetsFirehoseStreamResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2TweetsIdLikingUsersResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2TweetsIdQuoteTweetsResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2TweetsIdQuoteTweetsResponseMetaJsonConverter());
            _jsonOptions.Converters.Add(new Get2TweetsIdResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2TweetsIdRetweetedByResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2TweetsIdRetweetsResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2TweetsResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2TweetsSample10StreamResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2TweetsSampleStreamResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2TweetsSearchAllResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2TweetsSearchAllResponseMetaJsonConverter());
            _jsonOptions.Converters.Add(new Get2TweetsSearchRecentResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2TweetsSearchStreamResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2TweetsSearchStreamRulesCountsResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsageTweetsResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersByResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersByUsernameUsernameResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersIdBlockingResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersIdBookmarksResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersIdFollowedListsResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersIdFollowersResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersIdFollowingResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersIdLikedTweetsResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersIdListMembershipsResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersIdMentionsResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersIdMentionsResponseMetaJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersIdMutingResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersIdOwnedListsResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersIdPinnedListsResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersIdResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersIdTimelinesReverseChronologicalResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersIdTweetsResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersMeResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersPersonalizedTrendsResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersRepostsOfMeResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersSearchResponseJsonConverter());
            _jsonOptions.Converters.Add(new Get2UsersSearchResponseMetaJsonConverter());
            _jsonOptions.Converters.Add(new HashtagEntityJsonConverter());
            _jsonOptions.Converters.Add(new HashtagFieldsJsonConverter());
            _jsonOptions.Converters.Add(new InvalidRequestProblemJsonConverter());
            _jsonOptions.Converters.Add(new InvalidRequestProblemAllOfErrorsJsonConverter());
            _jsonOptions.Converters.Add(new InvalidRuleProblemJsonConverter());
            _jsonOptions.Converters.Add(new KillAllConnectionsResponseJsonConverter());
            _jsonOptions.Converters.Add(new KillAllConnectionsResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new LikeComplianceSchemaJsonConverter());
            _jsonOptions.Converters.Add(new LikeWithTweetAuthorJsonConverter());
            _jsonOptions.Converters.Add(new LikesComplianceStreamResponseJsonConverter());
            _jsonOptions.Converters.Add(new LikesComplianceStreamResponseOneOfJsonConverter());
            _jsonOptions.Converters.Add(new LikesComplianceStreamResponseOneOf1JsonConverter());
            _jsonOptions.Converters.Add(new ListJsonConverter());
            _jsonOptions.Converters.Add(new ListAddUserRequestJsonConverter());
            _jsonOptions.Converters.Add(new ListCreateRequestJsonConverter());
            _jsonOptions.Converters.Add(new ListCreateResponseJsonConverter());
            _jsonOptions.Converters.Add(new ListCreateResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new ListDeleteResponseJsonConverter());
            _jsonOptions.Converters.Add(new ListFollowedRequestJsonConverter());
            _jsonOptions.Converters.Add(new ListFollowedResponseJsonConverter());
            _jsonOptions.Converters.Add(new ListFollowedResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new ListMutateResponseJsonConverter());
            _jsonOptions.Converters.Add(new ListMutateResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new ListPinnedRequestJsonConverter());
            _jsonOptions.Converters.Add(new ListPinnedResponseJsonConverter());
            _jsonOptions.Converters.Add(new ListPinnedResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new ListUnpinResponseJsonConverter());
            _jsonOptions.Converters.Add(new ListUpdateRequestJsonConverter());
            _jsonOptions.Converters.Add(new ListUpdateResponseJsonConverter());
            _jsonOptions.Converters.Add(new ListUpdateResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new MediaJsonConverter());
            _jsonOptions.Converters.Add(new MediaCategorySubtitlesJsonConverter());
            _jsonOptions.Converters.Add(new MediaCategorySubtitlesNullableJsonConverter());
            _jsonOptions.Converters.Add(new MediaUploadInitResponseJsonConverter());
            _jsonOptions.Converters.Add(new MediaUploadInitResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new MediaUploadStatusResponseJsonConverter());
            _jsonOptions.Converters.Add(new MediaUploadStatusResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new MentionEntityJsonConverter());
            _jsonOptions.Converters.Add(new MentionFieldsJsonConverter());
            _jsonOptions.Converters.Add(new MetadataCreateRequestJsonConverter());
            _jsonOptions.Converters.Add(new MetadataCreateResponseJsonConverter());
            _jsonOptions.Converters.Add(new MetadataCreateResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new MetadataCreateResponseDataAssociatedMetadataJsonConverter());
            _jsonOptions.Converters.Add(new MuteUserMutationResponseJsonConverter());
            _jsonOptions.Converters.Add(new MuteUserMutationResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new MuteUserRequestJsonConverter());
            _jsonOptions.Converters.Add(new NonCompliantRulesProblemJsonConverter());
            _jsonOptions.Converters.Add(new NoteJsonConverter());
            _jsonOptions.Converters.Add(new NoteClassificationJsonConverter());
            _jsonOptions.Converters.Add(new NoteClassificationNullableJsonConverter());
            _jsonOptions.Converters.Add(new NoteRatingStatusJsonConverter());
            _jsonOptions.Converters.Add(new NoteRatingStatusNullableJsonConverter());
            _jsonOptions.Converters.Add(new Oauth1PermissionsProblemJsonConverter());
            _jsonOptions.Converters.Add(new OperationalDisconnectProblemJsonConverter());
            _jsonOptions.Converters.Add(new PersonalizedTrendJsonConverter());
            _jsonOptions.Converters.Add(new PhotoJsonConverter());
            _jsonOptions.Converters.Add(new PlaceJsonConverter());
            _jsonOptions.Converters.Add(new PlaceTypeJsonConverter());
            _jsonOptions.Converters.Add(new PlaceTypeNullableJsonConverter());
            _jsonOptions.Converters.Add(new PointJsonConverter());
            _jsonOptions.Converters.Add(new PollJsonConverter());
            _jsonOptions.Converters.Add(new PollOptionJsonConverter());
            _jsonOptions.Converters.Add(new ProblemJsonConverter());
            _jsonOptions.Converters.Add(new ProcessingInfoJsonConverter());
            _jsonOptions.Converters.Add(new ReplySettingsJsonConverter());
            _jsonOptions.Converters.Add(new ReplySettingsNullableJsonConverter());
            _jsonOptions.Converters.Add(new ReplySettingsWithVerifiedUsersJsonConverter());
            _jsonOptions.Converters.Add(new ReplySettingsWithVerifiedUsersNullableJsonConverter());
            _jsonOptions.Converters.Add(new ResourceNotFoundProblemJsonConverter());
            _jsonOptions.Converters.Add(new ResourceUnauthorizedProblemJsonConverter());
            _jsonOptions.Converters.Add(new ResourceUnavailableProblemJsonConverter());
            _jsonOptions.Converters.Add(new RuleJsonConverter());
            _jsonOptions.Converters.Add(new RuleNoIdJsonConverter());
            _jsonOptions.Converters.Add(new RulesCapProblemJsonConverter());
            _jsonOptions.Converters.Add(new RulesCountJsonConverter());
            _jsonOptions.Converters.Add(new RulesLookupResponseJsonConverter());
            _jsonOptions.Converters.Add(new RulesRequestSummaryJsonConverter());
            _jsonOptions.Converters.Add(new RulesRequestSummaryOneOfJsonConverter());
            _jsonOptions.Converters.Add(new RulesRequestSummaryOneOf1JsonConverter());
            _jsonOptions.Converters.Add(new RulesResponseMetadataJsonConverter());
            _jsonOptions.Converters.Add(new SearchCountJsonConverter());
            _jsonOptions.Converters.Add(new SpaceJsonConverter());
            _jsonOptions.Converters.Add(new SpaceTopicsInnerJsonConverter());
            _jsonOptions.Converters.Add(new StickerJsonConverter());
            _jsonOptions.Converters.Add(new StickerInfoJsonConverter());
            _jsonOptions.Converters.Add(new StreamingLikeResponseV2JsonConverter());
            _jsonOptions.Converters.Add(new StreamingTweetResponseJsonConverter());
            _jsonOptions.Converters.Add(new SubtitlesJsonConverter());
            _jsonOptions.Converters.Add(new SubtitlesCreateRequestJsonConverter());
            _jsonOptions.Converters.Add(new SubtitlesCreateResponseJsonConverter());
            _jsonOptions.Converters.Add(new SubtitlesCreateResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new SubtitlesDeleteRequestJsonConverter());
            _jsonOptions.Converters.Add(new SubtitlesDeleteResponseJsonConverter());
            _jsonOptions.Converters.Add(new SubtitlesDeleteResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new TopicJsonConverter());
            _jsonOptions.Converters.Add(new TrendJsonConverter());
            _jsonOptions.Converters.Add(new TweetJsonConverter());
            _jsonOptions.Converters.Add(new TweetAttachmentsJsonConverter());
            _jsonOptions.Converters.Add(new TweetComplianceDataJsonConverter());
            _jsonOptions.Converters.Add(new TweetComplianceSchemaJsonConverter());
            _jsonOptions.Converters.Add(new TweetComplianceSchemaTweetJsonConverter());
            _jsonOptions.Converters.Add(new TweetComplianceStreamResponseJsonConverter());
            _jsonOptions.Converters.Add(new TweetComplianceStreamResponseOneOfJsonConverter());
            _jsonOptions.Converters.Add(new TweetCreateRequestJsonConverter());
            _jsonOptions.Converters.Add(new TweetCreateRequestGeoJsonConverter());
            _jsonOptions.Converters.Add(new TweetCreateRequestMediaJsonConverter());
            _jsonOptions.Converters.Add(new TweetCreateRequestPollJsonConverter());
            _jsonOptions.Converters.Add(new TweetCreateRequestReplyJsonConverter());
            _jsonOptions.Converters.Add(new TweetCreateResponseJsonConverter());
            _jsonOptions.Converters.Add(new TweetCreateResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new TweetDeleteComplianceSchemaJsonConverter());
            _jsonOptions.Converters.Add(new TweetDeleteResponseJsonConverter());
            _jsonOptions.Converters.Add(new TweetDropComplianceSchemaJsonConverter());
            _jsonOptions.Converters.Add(new TweetEditComplianceObjectSchemaJsonConverter());
            _jsonOptions.Converters.Add(new TweetEditComplianceSchemaJsonConverter());
            _jsonOptions.Converters.Add(new TweetEditControlsJsonConverter());
            _jsonOptions.Converters.Add(new TweetGeoJsonConverter());
            _jsonOptions.Converters.Add(new TweetHideRequestJsonConverter());
            _jsonOptions.Converters.Add(new TweetHideResponseJsonConverter());
            _jsonOptions.Converters.Add(new TweetHideResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new TweetLabelDataJsonConverter());
            _jsonOptions.Converters.Add(new TweetLabelStreamResponseJsonConverter());
            _jsonOptions.Converters.Add(new TweetLabelStreamResponseOneOfJsonConverter());
            _jsonOptions.Converters.Add(new TweetNonPublicMetricsJsonConverter());
            _jsonOptions.Converters.Add(new TweetNoteTweetJsonConverter());
            _jsonOptions.Converters.Add(new TweetNoteTweetEntitiesJsonConverter());
            _jsonOptions.Converters.Add(new TweetNoticeJsonConverter());
            _jsonOptions.Converters.Add(new TweetNoticeSchemaJsonConverter());
            _jsonOptions.Converters.Add(new TweetOrganicMetricsJsonConverter());
            _jsonOptions.Converters.Add(new TweetPromotedMetricsJsonConverter());
            _jsonOptions.Converters.Add(new TweetPublicMetricsJsonConverter());
            _jsonOptions.Converters.Add(new TweetReferencedTweetsInnerJsonConverter());
            _jsonOptions.Converters.Add(new TweetScopesJsonConverter());
            _jsonOptions.Converters.Add(new TweetTakedownComplianceSchemaJsonConverter());
            _jsonOptions.Converters.Add(new TweetUndropComplianceSchemaJsonConverter());
            _jsonOptions.Converters.Add(new TweetUnviewableJsonConverter());
            _jsonOptions.Converters.Add(new TweetUnviewableSchemaJsonConverter());
            _jsonOptions.Converters.Add(new TweetWithheldJsonConverter());
            _jsonOptions.Converters.Add(new TweetWithheldComplianceSchemaJsonConverter());
            _jsonOptions.Converters.Add(new UnlikeComplianceSchemaJsonConverter());
            _jsonOptions.Converters.Add(new UnlikeComplianceSchemaFavoriteJsonConverter());
            _jsonOptions.Converters.Add(new UnsupportedAuthenticationProblemJsonConverter());
            _jsonOptions.Converters.Add(new UploadSourceJsonConverter());
            _jsonOptions.Converters.Add(new UrlEntityJsonConverter());
            _jsonOptions.Converters.Add(new UrlEntityDmJsonConverter());
            _jsonOptions.Converters.Add(new UrlFieldsJsonConverter());
            _jsonOptions.Converters.Add(new UrlImageJsonConverter());
            _jsonOptions.Converters.Add(new UsageJsonConverter());
            _jsonOptions.Converters.Add(new UsageCapExceededProblemJsonConverter());
            _jsonOptions.Converters.Add(new UsageDailyProjectUsageJsonConverter());
            _jsonOptions.Converters.Add(new UsageFieldsJsonConverter());
            _jsonOptions.Converters.Add(new UserJsonConverter());
            _jsonOptions.Converters.Add(new UserAffiliationJsonConverter());
            _jsonOptions.Converters.Add(new UserComplianceDataJsonConverter());
            _jsonOptions.Converters.Add(new UserComplianceSchemaJsonConverter());
            _jsonOptions.Converters.Add(new UserComplianceSchemaUserJsonConverter());
            _jsonOptions.Converters.Add(new UserComplianceStreamResponseJsonConverter());
            _jsonOptions.Converters.Add(new UserComplianceStreamResponseOneOfJsonConverter());
            _jsonOptions.Converters.Add(new UserDeleteComplianceSchemaJsonConverter());
            _jsonOptions.Converters.Add(new UserEntitiesJsonConverter());
            _jsonOptions.Converters.Add(new UserEntitiesUrlJsonConverter());
            _jsonOptions.Converters.Add(new UserProfileModificationComplianceSchemaJsonConverter());
            _jsonOptions.Converters.Add(new UserProfileModificationObjectSchemaJsonConverter());
            _jsonOptions.Converters.Add(new UserProtectComplianceSchemaJsonConverter());
            _jsonOptions.Converters.Add(new UserPublicMetricsJsonConverter());
            _jsonOptions.Converters.Add(new UserScrubGeoObjectSchemaJsonConverter());
            _jsonOptions.Converters.Add(new UserScrubGeoSchemaJsonConverter());
            _jsonOptions.Converters.Add(new UserSuspendComplianceSchemaJsonConverter());
            _jsonOptions.Converters.Add(new UserTakedownComplianceSchemaJsonConverter());
            _jsonOptions.Converters.Add(new UserUndeleteComplianceSchemaJsonConverter());
            _jsonOptions.Converters.Add(new UserUnprotectComplianceSchemaJsonConverter());
            _jsonOptions.Converters.Add(new UserUnsuspendComplianceSchemaJsonConverter());
            _jsonOptions.Converters.Add(new UserWithheldJsonConverter());
            _jsonOptions.Converters.Add(new UserWithheldComplianceSchemaJsonConverter());
            _jsonOptions.Converters.Add(new UsersDMBlockCreateResponseJsonConverter());
            _jsonOptions.Converters.Add(new UsersDMBlockCreateResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new UsersDMUnBlockCreateResponseJsonConverter());
            _jsonOptions.Converters.Add(new UsersFollowingCreateRequestJsonConverter());
            _jsonOptions.Converters.Add(new UsersFollowingCreateResponseJsonConverter());
            _jsonOptions.Converters.Add(new UsersFollowingCreateResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new UsersFollowingDeleteResponseJsonConverter());
            _jsonOptions.Converters.Add(new UsersLikesCreateRequestJsonConverter());
            _jsonOptions.Converters.Add(new UsersLikesCreateResponseJsonConverter());
            _jsonOptions.Converters.Add(new UsersLikesCreateResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new UsersLikesDeleteResponseJsonConverter());
            _jsonOptions.Converters.Add(new UsersRetweetsCreateRequestJsonConverter());
            _jsonOptions.Converters.Add(new UsersRetweetsCreateResponseJsonConverter());
            _jsonOptions.Converters.Add(new UsersRetweetsCreateResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new UsersRetweetsDeleteResponseJsonConverter());
            _jsonOptions.Converters.Add(new UsersRetweetsDeleteResponseDataJsonConverter());
            _jsonOptions.Converters.Add(new VariantJsonConverter());
            _jsonOptions.Converters.Add(new VideoJsonConverter());
            _jsonOptions.Converters.Add(new VideoAllOfNonPublicMetricsJsonConverter());
            _jsonOptions.Converters.Add(new VideoAllOfOrganicMetricsJsonConverter());
            _jsonOptions.Converters.Add(new VideoAllOfPromotedMetricsJsonConverter());
            _jsonOptions.Converters.Add(new VideoAllOfPublicMetricsJsonConverter());
            JsonSerializerOptionsProvider jsonSerializerOptionsProvider = new(_jsonOptions);
            _services.AddSingleton(jsonSerializerOptionsProvider);
            _services.AddSingleton<IApiFactory, ApiFactory>();
            _services.AddSingleton<BookmarksApiEvents>();
            _services.AddTransient<IBookmarksApi, BookmarksApi>();
            _services.AddSingleton<CommunitiesApiEvents>();
            _services.AddTransient<ICommunitiesApi, CommunitiesApi>();
            _services.AddSingleton<CommunityNotesApiEvents>();
            _services.AddTransient<ICommunityNotesApi, CommunityNotesApi>();
            _services.AddSingleton<ComplianceApiEvents>();
            _services.AddTransient<IComplianceApi, ComplianceApi>();
            _services.AddSingleton<ConnectionApiEvents>();
            _services.AddTransient<IConnectionApi, ConnectionApi>();
            _services.AddSingleton<DirectMessagesApiEvents>();
            _services.AddTransient<IDirectMessagesApi, DirectMessagesApi>();
            _services.AddSingleton<GeneralApiEvents>();
            _services.AddTransient<IGeneralApi, GeneralApi>();
            _services.AddSingleton<LikesApiEvents>();
            _services.AddTransient<ILikesApi, LikesApi>();
            _services.AddSingleton<ListsApiEvents>();
            _services.AddTransient<IListsApi, ListsApi>();
            _services.AddSingleton<MediaUploadApiEvents>();
            _services.AddTransient<IMediaUploadApi, MediaUploadApi>();
            _services.AddSingleton<SpacesApiEvents>();
            _services.AddTransient<ISpacesApi, SpacesApi>();
            _services.AddSingleton<TrendsApiEvents>();
            _services.AddTransient<ITrendsApi, TrendsApi>();
            _services.AddSingleton<TweetsApiEvents>();
            _services.AddTransient<ITweetsApi, TweetsApi>();
            _services.AddSingleton<UsageApiEvents>();
            _services.AddTransient<IUsageApi, UsageApi>();
            _services.AddSingleton<UsersApiEvents>();
            _services.AddTransient<IUsersApi, UsersApi>();
        }

        /// <summary>
        /// Configures the HttpClients.
        /// </summary>
        /// <param name="client"></param>
        /// <param name="builder"></param>
        /// <returns></returns>
        public HostConfiguration AddApiHttpClients
        (
            Action<HttpClient>? client = null, Action<IHttpClientBuilder>? builder = null)
        {
            if (client == null)
                client = c => c.BaseAddress = new Uri(ClientUtils.BASE_ADDRESS);

            List<IHttpClientBuilder> builders = new List<IHttpClientBuilder>();

            builders.Add(_services.AddHttpClient<IBookmarksApi, BookmarksApi>(client));
            builders.Add(_services.AddHttpClient<ICommunitiesApi, CommunitiesApi>(client));
            builders.Add(_services.AddHttpClient<ICommunityNotesApi, CommunityNotesApi>(client));
            builders.Add(_services.AddHttpClient<IComplianceApi, ComplianceApi>(client));
            builders.Add(_services.AddHttpClient<IConnectionApi, ConnectionApi>(client));
            builders.Add(_services.AddHttpClient<IDirectMessagesApi, DirectMessagesApi>(client));
            builders.Add(_services.AddHttpClient<IGeneralApi, GeneralApi>(client));
            builders.Add(_services.AddHttpClient<ILikesApi, LikesApi>(client));
            builders.Add(_services.AddHttpClient<IListsApi, ListsApi>(client));
            builders.Add(_services.AddHttpClient<IMediaUploadApi, MediaUploadApi>(client));
            builders.Add(_services.AddHttpClient<ISpacesApi, SpacesApi>(client));
            builders.Add(_services.AddHttpClient<ITrendsApi, TrendsApi>(client));
            builders.Add(_services.AddHttpClient<ITweetsApi, TweetsApi>(client));
            builders.Add(_services.AddHttpClient<IUsageApi, UsageApi>(client));
            builders.Add(_services.AddHttpClient<IUsersApi, UsersApi>(client));
            
            if (builder != null)
                foreach (IHttpClientBuilder instance in builders)
                    builder(instance);

            HttpClientsAdded = true;

            return this;
        }

        /// <summary>
        /// Configures the JsonSerializerSettings
        /// </summary>
        /// <param name="options"></param>
        /// <returns></returns>
        public HostConfiguration ConfigureJsonOptions(Action<JsonSerializerOptions> options)
        {
            options(_jsonOptions);

            return this;
        }

        /// <summary>
        /// Adds tokens to your IServiceCollection
        /// </summary>
        /// <typeparam name="TTokenBase"></typeparam>
        /// <param name="token"></param>
        /// <returns></returns>
        public HostConfiguration AddTokens<TTokenBase>(TTokenBase token) where TTokenBase : TokenBase
        {
            return AddTokens(new TTokenBase[]{ token });
        }

        /// <summary>
        /// Adds tokens to your IServiceCollection
        /// </summary>
        /// <typeparam name="TTokenBase"></typeparam>
        /// <param name="tokens"></param>
        /// <returns></returns>
        public HostConfiguration AddTokens<TTokenBase>(IEnumerable<TTokenBase> tokens) where TTokenBase : TokenBase
        {
            TokenContainer<TTokenBase> container = new TokenContainer<TTokenBase>(tokens);
            _services.AddSingleton(services => container);

            return this;
        }

        /// <summary>
        /// Adds a token provider to your IServiceCollection
        /// </summary>
        /// <typeparam name="TTokenProvider"></typeparam>
        /// <typeparam name="TTokenBase"></typeparam>
        /// <returns></returns>
        public HostConfiguration UseProvider<TTokenProvider, TTokenBase>() 
            where TTokenProvider : TokenProvider<TTokenBase>
            where TTokenBase : TokenBase
        {
            _services.AddSingleton<TTokenProvider>();
            _services.AddSingleton<TokenProvider<TTokenBase>>(services => services.GetRequiredService<TTokenProvider>());

            return this;
        }
    }
}
